{
  "firestore": { "rules": "firestore.rules" },
  "hosting": [
    {
      "target": "website",
      "source": ".",
      "ignore": ["firebase.json", "**/.*", "**/node_modules/**"],
      "frameworksBackend": { "region": "europe-west1" },
      "headers": [{ "source": "**", "headers": [{ "key": "Content-Security-Policy", "value": "frame-ancestors *" }] }]
    },
    {
      "target": "dashboard",
      "public": "dashboard/dist",
      "ignore": ["firebase.json", "**/.*", "**/node_modules/**"],
      "rewrites": [{ "source": "**", "destination": "/index.html" }],
      "headers": [
        { "source": "**", "headers": [{ "key": "Content-Security-Policy", "value": "frame-ancestors *" }] },
        { "source": "/index.html", "headers": [{ "key": "Cache-Control", "value": "no-cache, no-store, must-revalidate" }] }
      ]
    }
  ],
  "storage": { "rules": "storage.rules" }
}
